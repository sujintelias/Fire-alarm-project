C51 COMPILER V9.00   UART                                                                  05/29/2015 18:46:18 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN uart.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE uart.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include<reg51.h>
   2          void uart_init()
   3          {
   4   1              TMOD |=0x20; //Timer1 in Mode2.
   5   1              TH1=-3;    // 9600 Baud rate at 11.0592MHz
   6   1              SCON=0x50; // Asynchronous mode 8-bit data and 1-stop bit
   7   1              TR1 = 1;         //Turn ON the timer.
   8   1              RI=0;
   9   1      }
  10          
  11          void uart_txchar(char ch)
  12          {
  13   1              SBUF=ch;           // Load the data to be transmitted
  14   1              while(TI==0);    // Wait till the data is trasmitted
  15   1          TI=0;
  16   1      }
  17          char uart_rxchar()
  18          {
  19   1              while(RI==0);     // Wait till the data is received
  20   1          RI=0;        // Clear Receive Interrupt Flag for next cycle
  21   1              return(SBUF);     // return the received char
  22   1      }
  23          void uart_txstring(unsigned char ch[100])
  24           {
  25   1              int x;
  26   1              
  27   1              for(x=0;ch[x]!='\0';x++)
  28   1                      uart_txchar (ch[x]);
  29   1              uart_txchar('\n');
  30   1              while(1);
  31   1       }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     72    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
